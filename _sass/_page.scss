/* ==========================================================================
   Page styles
   ========================================================================== */

/*
   Main
   ========================================================================== */

#main {
  @include container;
  @include clearfix;
  margin-top: 2em; /* 顶部间距增大 */
  padding-left: 1.5em;
  padding-right: 1.5em;
  animation: intro 0.3s both;
  animation-delay: 0.35s;

  @include breakpoint($x-large) {
    max-width: $x-large;
    padding-left: 2em;
    padding-right: 2em;
  }
}

/*
   Posts and pages
   ========================================================================== */

.page,
.post {
  margin: 0 0 2em;
}

.page__title,
.post__title,
.post__title--featured {
  margin-top: 0;
  font-size: $type-size-2;
}

.page__lead,
.post__lead {
  margin-bottom: 1.5em;
  font-size: $type-size-4;
  line-height: 1.4;
}

.page__taxonomy,
.post__taxonomy {
  margin: 2em 0;
  font-size: $type-size-6;
  color: $gray;
}

.page__date,
.post__date {
  display: block;
  margin: 0 0 1em;
  font-size: $type-size-6;
  color: $gray;
}

.page__meta,
.post__meta {
  margin: 2em 0 0;
  font-size: $type-size-6;
  color: $gray;
}

.page__share,
.post__share {
  margin: 2em 0 0;
}

/*
   Content
   ========================================================================== */

.page__content,
.post__content {
  background-color: white; /* 白色背景提升内容区辨识度 */
  padding: 2.5em; /* 内边距增大 */
  border-radius: $border-radius; /* 圆角处理 */
  box-shadow: $box-shadow; /* 轻微阴影，增强层次感 */
  margin-bottom: 2em;

  h1 {
    margin-top: 0; /* 移除顶部标题的默认上间距 */
    padding-bottom: 0.8em;
    border-bottom: 2px solid $light-gray; /* 标题下划线加粗 */
  }

  a {
    word-wrap: break-word;
  }

  /* Make sure embeds and iframes fit their containers */
  embed,
  iframe,
  object {
    max-width: 100%;
  }

  /* Paragraph indentation */
  @if $paragraph-indent {
    p + p {
      text-indent: $indent-var;
      margin-top: 0;
    }
  }
}

/*
   Featured images
   ========================================================================== */

.page__hero,
.post__hero {
  margin: 0 0 2em;
  max-width: 100%;
}

.page__hero-image,
.post__hero-image {
  display: block;
  margin: 0 auto;
  max-width: 100%;
}

/*
   Tables
   ========================================================================== */

.page__content table,
.post__content table {
  margin: 2em 0;
  width: 100%;
  border-collapse: collapse;
  border-spacing: 0;
}

.page__content th,
.post__content th,
.page__content td,
.post__content td {
  padding: 0.8em;
  text-align: left;
  border-bottom: 1px solid $border-color;
}

.page__content th,
.post__content th {
  font-weight: bold;
  background-color: $light-gray;
}

/*
   Figures
   ========================================================================== */

.page__content figure,
.post__content figure {
  margin: 2.5em 0; /* 图片上下间距增大 */

  img {
    border-radius: 6px; /* 图片圆角 */
    box-shadow: 0 3px 12px rgba(0,0,0,0.08); /* 图片轻微阴影 */
    transition: transform 0.3s ease; /* 缩放动画 */
  }

  img:hover {
    transform: scale(1.01); /* 鼠标悬停时轻微放大 */
  }
}

.page__content figcaption,
.post__content figcaption {
  margin-top: 0.8em;
  font-size: $type-size-6;
  text-align: center;
}

/*
   Gallery
   ========================================================================== */

.gallery {
  display: flex;
  flex-wrap: wrap;
  margin: 0 -1em;
  padding: 0;
  list-style: none;
}

.gallery-item {
  flex: 1 0 300px;
  margin: 0 1em 2em;
}

.gallery-item a {
  display: block;
}

.gallery-item img {
  display: block;
  max-width: 100%;
  height: auto;
}

/*
   Related posts
   ========================================================================== */

.related-posts {
  margin: 4em 0 0;
  padding: 2em 0 0;
  border-top: 1px solid $border-color;
}

.related-posts__heading {
  margin-top: 0;
  font-size: $type-size-4;
}

.related-posts__list {
  @include clearfix;
  margin: 1.5em 0 0;
  padding: 0;
  list-style: none;
}

.related-posts__item {
  @include span-columns(1 of 2);
  @include breakpoint($small) {
    @include span-columns(1 of 3);
  }
  @include breakpoint($large) {
    @include span-columns(1 of 4);
  }
  margin-bottom: 1.5em;
  padding-right: 1em;
}

.related-posts__item a {
  display: block;
}

.related-posts__item img {
  margin-bottom: 0.8em;
  max-width: 100%;
}

.related-posts__title {
  margin: 0;
  font-size: $type-size-5;
}

/*
   Author profile
   ========================================================================== */

.author-profile {
  margin: 4em 0 0;
  padding: 2em;
  background-color: $light-gray;
  border-radius: $border-radius;
}

.author-profile__portrait {
  float: left;
  margin-right: 1.5em;
  width: 100px;
  height: 100px;
  border-radius: 50%;
}

.author-profile__title {
  margin-top: 0;
  font-size: $type-size-4;
}

.author-profile__bio {
  margin-bottom: 0;
}

/*
   Pagination
   ========================================================================== */

.pagination {
  @include clearfix;
  margin: 4em 0 0;
  padding: 2em 0;
  border-top: 1px solid $border-color;
  text-align: center;
}

.pagination__title {
  margin-bottom: 1em;
  font-size: $type-size-6;
  color: $gray;
}

.pagination__links {
  @include span-columns(12);
}

.pagination__prev,
.pagination__next {
  display: inline-block;
  padding: 0.6em 1.2em;
  background-color: $light-gray;
  border-radius: $border-radius;
  transition: $global-transition;

  &:hover {
    background-color: $gray;
    color: $body-color;
    text-decoration: none;
  }
}

.pagination__prev {
  margin-right: 1em;
}

/*
   404 page
   ========================================================================== */

.error-404 {
  text-align: center;
}

.error-404__title {
  margin-bottom: 0.5em;
  font-size: 5em;
  line-height: 1;
}

.error-404__text {
  margin-bottom: 2em;
  font-size: $type-size-4;
}

/*
   Animations
   ========================================================================== */

@keyframes intro {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}
